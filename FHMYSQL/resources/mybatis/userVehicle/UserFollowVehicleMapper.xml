<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="UserFollowVehicleMapper">


	<!--新增关注-->
	<insert id="saveFollow" parameterType="pd">
		insert into user_follow_vehicle (
			 username,
			plate_number,
			message_id,
			is_pay,
			create_date,
			last_modify_date,
			is_delete
		NUMBER
		) values (
		#{username},
		#{plate_number},
		#{message_id},
		#{is_pay},
		#{create_date},
		#{last_modify_date},
		#{is_delete}

		)
	</insert>
	
	<!-- 查找关注 -->
	<select id="findFollow" parameterType="pd" resultType="pd">
		select 
			username,
			plate_number,
			message_id,
			is_pay,
			create_date,
			last_modify_date,
			is_delete

		from 
			user_follow_vehicle
		where 
			username = #{username} AND is_delete != 1
	</select>

	<!--查询关注并且付费成功的-->
	<select id="findFollowIsPay" parameterType="pd" resultType="pd">
		select
		username,
		plate_number,
		message_id,
		is_pay,
		create_date,
		last_modify_date,
		is_delete

		from
		user_follow_vehicle
		where
		username = #{username} AND is_delete != 1 AND is_pay = 1
	</select>

</mapper>